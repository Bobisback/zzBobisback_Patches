// zz_JNSQ_Launchpads_2p7_AllInOne.cfg
// Purpose: Scale launchpad MASS + SIZE limits by 2.7× for JNSQ scale.
// Scope:
//  - KSC (CustomBarnKit): craftMassLimit and craftSizeLimit (level 0 & 1 only; leaves unlimited as-is)
//  - Kerbal Konstructs LaunchSites: LaunchSiteLength/Width/Height and MaxCraftMass (guarded; 0/-1 left alone)
// Notes:
//  - Runs AFTER JNSQ so site renames/moves are finalized
//  - Does NOT touch build times (KCT unaffected except higher pad caps)
//  - Verified against your ModuleManager.ConfigCache

// ==========================
// CustomBarnKit (KSC pads)
// ==========================
@CustomBarnKit:NEEDS[CustomBarnKit]:AFTER[JNSQ]
{
    @LAUNCHPAD
    {
        // Mass limits per level (from cache: 18, 140, -1) → ×2.7 for first two
        @craftMassLimit,0 = 48.6
        @craftMassLimit,1 = 378
        // @craftMassLimit,2 is typically -1 (unlimited) → left unchanged

        // Size gates: cache shows three 'size =' rows under craftSizeLimit:
        //   size = 15, 20, 15
        //   size = 28, 36, 28
        //   size = -1, -1, -1 (unlimited)
        @craftSizeLimit
        {
          @size,0 = 40.5, 54, 40.5
          @size,1 = 75.6, 97.2, 75.6
          // @size,2 left as unlimited
        }
    }
}

// ===========================================
// Kerbal Konstructs (JNSQ LaunchSite pads)
// ===========================================
@STATIC,*:HAS[@Instances:HAS[@LaunchSite:HAS[#FacilityType[KKLaunchSite]]]]:NEEDS[KerbalKonstructs]:AFTER[JNSQ]
{
    @Instances
    {
        @LaunchSite,*:HAS[#FacilityType[KKLaunchSite]]
        {
            @LaunchSiteLength *= 2.7
            @LaunchSiteWidth  *= 2.7
            @LaunchSiteHeight *= 2.7
            @MaxCraftMass:HAS[~MaxCraftMass[0],~MaxCraftMass[-1]] *= 2.7
        }
    }
}
