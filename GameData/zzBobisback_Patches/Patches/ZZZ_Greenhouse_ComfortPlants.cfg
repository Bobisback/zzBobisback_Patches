// Adds Kerbalism Comfort (plants) to any part that has a Greenhouse module
// and does NOT already have Comfort with bonus = plants.
// Safe to run late; only adds when missing.
//
// File: zzz_Greenhouse_ComfortPlants.cfg

// Adds Comfort(plants) only to parts that have a Greenhouse AND a Habitat,
// and do NOT already have Comfort with bonus=plants.
@PART[*]:HAS[@MODULE[Greenhouse],@MODULE[Habitat],!MODULE[Comfort]:HAS[#bonus[plants]]]:NEEDS[Kerbalism]:FINAL
{
  MODULE
  {
    name = Comfort
    bonus = plants
    desc = There's something inherently calming about an artificial slice of nature, kept alive only by the miracles of duct-tape and kerbal engineering. Let's hope the crew doesn't think too much about it.
  }
}

@PART[*]:HAS[@MODULE[Greenhouse]]:NEEDS[VABOrganizer]:FINAL
{
    // Create or update VAB Organizer settings
    %VABORGANIZER
    {
        %organizerSubcategory = greenhouses
    }
}
