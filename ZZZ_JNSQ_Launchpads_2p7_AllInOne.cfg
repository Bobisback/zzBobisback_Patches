// zz_JNSQ_Launchpads_2p7_AllInOne.cfg
// Purpose: Scale launchpad MASS + SIZE limits by 2.7× for JNSQ scale.
// Scope:
//  - KSC (CustomBarnKit): craftMassLimit and craftSizeLimit (level 0 & 1 only; leaves unlimited as-is)
//  - Kerbal Konstructs LaunchSites: LaunchSiteLength/Width/Height and MaxCraftMass (guarded; 0/-1 left alone)
// Notes:
//  - Runs AFTER JNSQ so site renames/moves are finalized
//  - Does NOT touch build times (KCT unaffected except higher pad caps)
//  - Verified against your ModuleManager.ConfigCache

// ==========================
// CustomBarnKit (KSC pads)
// ==========================
@CUSTOMBARNKIT:NEEDS[CustomBarnKit]:AFTER[JNSQ]
{
  @LAUNCHPAD
  {
    // craftMassLimit is a LIST → don't multiply; assign the scaled list:
    // 18, 140, -1  →  48.6, 378, -1
    @craftMassLimit = 50, 400, -1

    // craftSizeLimit shows three 'size = x, y, z' rows in your cache:
    //   size = 15, 20, 15
    //   size = 28, 36, 28
    //   size = -1, -1, -1  (unlimited)
    // Assign the first two lines to their 2.7× values; leave unlimited alone.
    @craftSizeLimit
    {
      @size,0 = 40, 55, 40
      @size,1 = 75, 100, 75
      // @size,2 stays -1, -1, -1
    }
  }
}

// ===========================================
// Kerbal Konstructs (JNSQ LaunchSite pads)
// ===========================================
@STATIC,*:HAS[@Instances:HAS[@LaunchSite:HAS[#FacilityType[KKLaunchSite]]]]:NEEDS[KerbalKonstructs]:AFTER[JNSQ]
{
  @Instances
  {
    @LaunchSite,*:HAS[#FacilityType[KKLaunchSite],~MaxCraftMass[0],~MaxCraftMass[-1]]
    {
      @MaxCraftMass *= 2.7
    }
    @LaunchSite,*:HAS[#FacilityType[KKLaunchSite]]
    {
      @LaunchSiteLength *= 2.7
      @LaunchSiteWidth  *= 2.7
      @LaunchSiteHeight *= 2.7
    }
  }
}

